<!DOCTYPE html>

<head>
    <title>Trophies Gallery</title>
    <style>
        :root {
            --frame-w: 1365px;
            --frame-h: 768px;
            --green-stroke: #e7ffde;
            --green-inner: #2fbf2f;
            --panel-bg: rgba(0,2,6,0.92);
        }

        html, body {
            height: 100%;
            margin: 0;
            background: #000;
        }

        .viewport {
            width: var(--frame-w);
            height: var(--frame-h);
            position: relative;
            margin: 18px auto;
            background: transparent;
            overflow: hidden;
        }

        .frame-art {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-image: url('/Img/greenassets.png');
            background-size: cover;
            pointer-events: none;
            image-rendering: -moz-crisp-edges;
        }

        .frame-back {
            position: fixed;
            top: 0;
            right: 0;
            pointer-events: auto;
            z-index: 9999;
            cursor: pointer;
        }

            .frame-back img {
                width: 300px;
                height: auto;
                image-rendering: -moz-crisp-edges;
                image-rendering: pixelated;
            }

        .content-area {
            position: absolute;
            left: 120px;
            bottom: 80px;
            width: 650px;
            height: 90px;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .panel {
            position: absolute;
            right: 168px;
            top: 85px;
            width: 540px;
            height: 470px;
            padding: 36px 36px 24px 36px;
            box-sizing: border-box;
            -webkit-backdrop-filter: blur(1px);
        }

            .panel::before {
                content: "";
                position: absolute;
                left: -10px;
                top: 0;
                width: 26px;
                height: 100%;
                background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.0));
                pointer-events: none;
            }

            .panel h1 {
                margin: 0;
                color: #ffd900;
                font-size: 45px;
                line-height: 0.9;
                rotate: -14deg;
                text-shadow: 1px 1px 0 #6f4f00, 2px 2px 0 #5a4300, 3px 3px 0 #4a3800, 4px 4px 0 #3b2c00, 5px 5px 0 #2b2000;
                transform: skew(10deg, 9deg);
            }

            .panel p {
                margin-top: 22px;
                color: #fff;
                font-size: 22px;
                line-height: 1.35;
                width: 275px;
                font-weight: 700;
                text-shadow: 0 1px 0 rgba(0,0,0,0.6);
            }

        .score-box {
            position: absolute;
            left: 694px;
            bottom: 70px;
            width: 341px;
            height: 80px;
            display: flex;
            align-items: center;
            font-size: 32px;
            font-weight: 800;
            color: white;
            box-sizing: border-box;
            word-spacing: 4px;
        }

        .header-text {
            position: absolute;
            left: 220px;
            top: 18px;
            font-family: 'Eurostile', Arial, sans-serif;
            font-size: 56px;
            color: #dfeef9;
            font-weight: 700;
            text-shadow: 0 3px 0 rgba(0,0,0,0.8);
        }

        .left-tab {
            position: absolute;
            left: 40px;
            top: 150px;
            width: 180px;
            height: 54px;
            background: transparent
        }

        .trophy-replace {
            position: absolute;
            left: 120px;
            top: 160px;
            width: 420px;
            height: 420px;
            background: transparent;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        * {
            image-rendering: optimizeQuality;
        }

        @media(max-width:1400px) {
            .viewport {
                transform: scale(0.95);
                transform-origin: top center
            }
        }
    </style>
</head>
<body>
    <video class="bg-video" autoplay loop muted playsinline style="position:fixed;left:0;top:0;width:100%;height:100%;object-fit:cover;"><source src="Img/MainMenuLoop.webm" type="video/webm" /></video>
    <form id="form1">

        <div class="viewport" role="region" aria-label="melee-frame">
            <div class="frame-art"></div>

            <div class="frame-back" onclick="location.href='Index.html'">
                <img src="/Img/AssetBack.png" alt="" />
            </div>

            <div class="content-area">
                <canvas id="scene"></canvas>
            </div>

            <div class="panel">
                <h1 id="TrophyName">NA</h1>
                <p id="TrophyDesc">
                </p>
            </div>

            <div class="score-box" id="TrophyOrigin">
            </div>

            <div class="left-tab"></div>
        </div>
        <script>
    function LoadRaccoonMarioText() {
        document.getElementById("TrophyName").innerHTML = "Raccoon Mario"
        document.getElementById("TrophyDesc").innerHTML = "In Super Mario Bros. 3, Super Leafs caused Mario to grow raccoon ears and a tail. By sprinting and rapidly wagging the tail, Mario gained the ability to fly for short periods. Like the Cape in Super Mario World, the tail also reduced the speed at which he fell, making midair moves easier. Needless to say, real raccoons were jealous."
        document.getElementById("TrophyOrigin").innerHTML = "Super Mario Bros. 3 <br /> 2 / 90"
    }
    function LoadBlastoiseText() {
        document.getElementById("TrophyName").innerHTML = "Blastoise"
        document.getElementById("TrophyDesc").innerHTML = "Blastoise is the next evolutionary step after Wartortle. The thick jets of water they shoot from the cannons on their backs are strong enough to cut through steel plating. When in danger, they hide inside their armored shells. Blastoise is so popular among trainers that it's considered the definitive Water-type."
        document.getElementById("TrophyOrigin").innerHTML = "Pokémon Red & Blue <br /> 9 / 98"
    }
    function LoadFoxMcCloudText() {
        document.getElementById("TrophyName").innerHTML = "Fox McCloud"
        document.getElementById("TrophyDesc").innerHTML = "Fox McCloud is the leader of a band of adventurers-for-hire known as Star Fox. Fox and his fellow pilots Peppy, Slippy, and Falco patrol the Lylat system in their mother ship, the Great Fox. From the cockpit of his Arwing, Fox leads the ceaseless pursuit of the evil scientist Andross, who doomed Fox's father."
        document.getElementById("TrophyOrigin").innerHTML = "Star Fox <br /> 3 / 93"
    }
    function LoadFZeroRacersText() {
        document.getElementById("TrophyName").innerHTML = "F-Zero Racers"
        document.getElementById("TrophyDesc").innerHTML = "In the year 2560, an association of wealthy space merchants created the F-Zero Grand Prix in an attempt to add some excitement to their opulent lifestyles. The jet-powered racers have no tires, but use G-Diffuser systems to float a foot above the surface. Many believe the F-Zero championship is the highest claim to fame in the galaxy."
        document.getElementById("TrophyOrigin").innerHTML = "F-Zero X <br /> 10 / 98"
    }
    function LoadMajorasMaskText() {
        document.getElementById("TrophyName").innerHTML = "Majora's Mask"
        document.getElementById("TrophyDesc").innerHTML = "A lonely Skull Kid put on Majora's Mask and unknowingly allowed a great evil to invade the land of Termina. The mask manifested its evil power into the fearsome-looking moon, and the Skull Kid became merely a puppet under its malevolent power. In the ultimate battle with Link, Majora's Mask transformed into three separate forms."
        document.getElementById("TrophyOrigin").innerHTML = "The Legend of Zelda: <br /> Majora's Mask 10 / 00"
    }
    function LoadYoungLinkText() {
        document.getElementById("TrophyName").innerHTML = "Young Link"
        document.getElementById("TrophyDesc").innerHTML = "With a youthful spring in his step, Young Link can perform amazing wall-jumps. Once he hits a wall, tap the Control Stick in the opposite direction to send him leaping upward; you can practice to your heart's content in Target Test. His Spin Attack can strike multiple times even on the ground, and although it's hard to discern, so do his Bombs."
        document.getElementById("TrophyOrigin").innerHTML = "The Legend of Zelda <br /> 7 / 87"
    }

    function LoadCaptainFalconClassicText() {
        document.getElementById("TrophyName").innerHTML = "Capt. Falcon"
        document.getElementById("TrophyDesc").innerHTML = "Usually a relentless bounty hunter, Captain Falcon shifts gears to become a race pilot once the F-Zero Grand Prix begins. His beloved racer, the Blue Falcon, can exceed the speed of sound, and he knows how to drive it; he'll go down as one of the all-time greats. Now 36 years old, Captain Falcon wears his F-Zero X visor."
        document.getElementById("TrophyOrigin").innerHTML = "F-Zero <br /> 8 / 91"
    }

    function LoadChozoStatueText() {
        document.getElementById("TrophyName").innerHTML = "Chozo Statue"
        document.getElementById("TrophyDesc").innerHTML = "These statues, which provide power-ups to Samus and have some connection with her Power Suit, have been found in many places, most notably Zebes. The Chozo boasted the most advanced civilization in their galaxy. Some say that when they could advance no further, they chose to withdraw and observe other life forms."
        document.getElementById("TrophyOrigin").innerHTML = "Metroid <br /> 8 / 89"
    }

    function LoadGanondorfAdvText() {
        document.getElementById("TrophyName").innerHTML = "Ganondorf"
        document.getElementById("TrophyDesc").innerHTML = "Since he's slow and can't jump very high, Ganondorf relies mainly on his immense physical strength to overwhelm his enemies. His great weight also makes him a difficult foe to send offscreen. Ganondorf's Warlock Punch is slow but absurdly powerful, and when he strikes with his Gerudo Dragon, enemies rise skyward enveloped in dark flames."
        document.getElementById("TrophyOrigin").innerHTML = "The Legend of Zelda <br /> 11 / 98"
    }

    function LoadGoombaText() {
        document.getElementById("TrophyName").innerHTML = "Goomba"
        document.getElementById("TrophyDesc").innerHTML = "Goombas are actually traitors who've defected from the Mushroom Kingdom's forces. They're a slow and predictable nuisance, as they always try to wander into Mario's path. Fortunately for Mario, they don't have much stamina, as a single jump on the head is generally enough to defeat them."
        document.getElementById("TrophyOrigin").innerHTML = "Super Mario Bros. <br /> 10 / 85"
    }

    function LoadHoOhText() {
        document.getElementById("TrophyName").innerHTML = "Ho-oh"
        document.getElementById("TrophyDesc").innerHTML = "As it soars around the skies of the world, this multicolored flying Pokémon leaves a trail of rainbows and myths in its wake. Its signature move is called Sacred Fire, and it is believed to appear only before trainers who are pure of heart. If you see a trainer with Ho-oh, you can assume that catching it took a lot of work."
        document.getElementById("TrophyOrigin").innerHTML = "Pokémon Gold & Silver <br /> 10 / 00"
    }

    function LoadKingKRoolText() {
        document.getElementById("TrophyName").innerHTML = "King K. Rool"
        document.getElementById("TrophyDesc").innerHTML = "The demented head of the Kremlings and big boss in the Donkey Kong series, K. Rool is a giant, greedy glutton with a serious eye tic. While he fits the evil boss mold nicely, he's just enough of a bumbler to have gained a few fans over the years. His plan to blow up the DK Isles with his Blast-o-Matic shows how unbalanced he is."
        document.getElementById("TrophyOrigin").innerHTML = "Donkey Kong Country <br /> 11 / 94"
    }

    function LoadLugiaText() {
        document.getElementById("TrophyName").innerHTML = "Lugia"
        document.getElementById("TrophyDesc").innerHTML = "The waters of the Whirl Islands are home to this legendary Pokémon, whom few have seen. Lugia lives quietly in the deepest ocean trenches for one very good reason: its combined aerial and psychic powers are so strong as to be extremely dangerous. The special moves of this gargantuan creature include the destructive wind assault known as Aeroblast."
        document.getElementById("TrophyOrigin").innerHTML = "Pokémon Gold & Silver <br /> 10 / 00"
    }

    function LoadMaximumTomatoText() {
        document.getElementById("TrophyName").innerHTML = "Maxim Tomato"
        document.getElementById("TrophyDesc").innerHTML = "Maxim Tomatoes cure 50 percentage points of your accumulated damage. Once you eat one, after a brief moment, your damage meter slowly drains the appropriate amount, regardless of whether or not you pick up another item right afterwards. In the Kirby series, these juicy, health-restoring items were a favorite of the pink hero."
        document.getElementById("TrophyOrigin").innerHTML = "Kirby's Dream Land <br /> 8 / 92"
    }

    function LoadPitText() {
        document.getElementById("TrophyName").innerHTML = "Pit"
        document.getElementById("TrophyDesc").innerHTML = "The head of Palutena's personal bodyguards, Pit traveled near and far to gather Three Sacred Treasures that would help him defeat the evil goddess of darkness, Medusa, and free Palutena, the goddess of light. Pit couldn't fly with his little wings; only the Wings of Pegasus let him take flight. Will Pit ever fight again?"
        document.getElementById("TrophyOrigin").innerHTML = "Kid Icarus <br /> 7 / 87"
    }

    document.addEventListener("DOMContentLoaded", function () {
        const param = new URLSearchParams(window.location.search).get("trophy");
        if (param == "RaccoonMario") { LoadRaccoonMarioText(); }
        if (param == "Blastoise") { LoadBlastoiseText(); }
        if (param == "Fox_Classic") { LoadFoxMcCloudText(); }
        if (param == "FZeroRacers") { LoadFZeroRacersText(); }
        if (param == "MajorasMask") { LoadMajorasMaskText(); }
        if (param == "Young_Link_All_Star") { LoadYoungLinkText(); }
        if (param == "Captain_Falcon_Classic") { LoadCaptainFalconClassicText(); }
        if (param == "ChozoStatue") { LoadChozoStatueText(); }
        if (param == "Ganondorf_Adventure") {LoadGanondorfAdvText(); }
        if (param == "Goomba") { LoadGoombaText(); }
        if (param == "Ho_Oh") { LoadHoOhText(); }
        if (param == "King_K_Rool") { LoadKingKRoolText(); }
        if (param == "Lugia") { LoadLugiaText(); }
        if (param == "Maximum_Tomato") { LoadMaximumTomatoText(); }
        if (param == "Pit") { LoadPitText(); }

    });
        </script>
        <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.125.0/build/three.module.js';
    import { MTLLoader } from 'https://unpkg.com/three@0.125.0/examples/jsm/loaders/MTLLoader.js';
    import { OBJLoader } from 'https://unpkg.com/three@0.125.0/examples/jsm/loaders/OBJLoader.js';

    let renderer, scene, camera, trophy;
    const ww = window.innerWidth, wh = window.innerHeight;

    function init() {
        renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('scene'), alpha: true });
        renderer.setSize(ww, wh);
        renderer.setPixelRatio(window.devicePixelRatio);

        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera(35, ww / wh, 0.1, 5000);
        camera.position.set(0, 0, 150);
        scene.add(camera);

        const light = new THREE.DirectionalLight(0xffffff, 1); light.position.set(0, 0, 400); scene.add(light);
        scene.add(new THREE.AmbientLight(0xffffff, 0.4));

        loadOBJ();
    }

    function loadOBJ() {
        const param = new URLSearchParams(window.location.search).get("trophy");
        const mtlLoader = new MTLLoader();
        mtlLoader.setPath('../Img/' + param + '/');
        mtlLoader.load('material.mtl', (materials) => {
            materials.preload();
            const objLoader = new OBJLoader();
            objLoader.setMaterials(materials);
            objLoader.setPath('../Img/' + param + '/');
            objLoader.load('model.obj', addTrophyInScene);
        }, undefined, (err) => console.error('MTL load error', err));
    }

    function addTrophyInScene(object) {
        trophy = object;
        const box = new THREE.Box3().setFromObject(trophy);
        const center = box.getCenter(new THREE.Vector3());
        trophy.position.sub(center);
        const size = box.getSize(new THREE.Vector3());
        const max = Math.max(size.x, size.y, size.z);
        const scale = 40 / max;
        trophy.scale.set(scale, scale, scale);
        trophy.rotation.set(0, 0, 0);
        scene.add(trophy);
        render();
    }

    function render() {
        requestAnimationFrame(render);
        if (trophy) trophy.rotation.y += 0.01;
        renderer.render(scene, camera);
    }

    init();
        </script>
        <script>
    document.addEventListener("keydown", function (e) {

        const video = document.querySelector(".bg-video");
        const source = video.querySelector("source");

        if (e.key === "1") {
            source.src = "Img/MainMenuLoop.webm";
        }
        else if (e.key === "2") {
            source.src = "Img/MainMenuLoopBlue.webm";
        }
        else if (e.key === "3") {
            source.src = "Img/MainMenuLoopPurple.webm";
        }
        else if (e.key === "4") {
            source.src = "Img/MainMenuLoopRed.webm";
        }
        else if (e.key === "5") {
            source.src = "Img/MainMenuLoopYellow.webm";
        } else {
            return; // don't reload video if it's not 1–5
        }

        video.load();
        video.play();
    });
        </script>
    </form>
</body>
</html>
